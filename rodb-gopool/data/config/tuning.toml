# Generated tuning config example (copy to a real config and edit as needed)

# Rate limits ([rate_limits])
# - max_conns: Maximum simultaneous Stratum connections allowed (checked on accept; requires restart).
# - auto_accept_rate_limits: When true, computes accept throttles from max_conns on startup (overrides explicit accept_* values; requires restart).
# - max_accepts_per_second: Accepts/sec during the initial restart/reconnect window (requires restart).
# - max_accept_burst: Token bucket burst size for accepts (requires restart).
# - accept_reconnect_window: Target seconds for all miners to reconnect after restart (used for auto_accept_rate_limits).
# - accept_burst_window: Initial burst window (seconds) after restart (used for auto_accept_rate_limits).
# - accept_steady_state_window: Seconds after startup before switching to steady-state throttles (requires restart).
# - accept_steady_state_rate: Accepts/sec once steady-state mode activates (requires restart).
# - accept_steady_state_reconnect_percent: Expected % of miners reconnecting during normal operation (used for auto_accept_rate_limits; requires restart).
# - accept_steady_state_reconnect_window: Seconds to spread expected steady-state reconnects across (used for auto_accept_rate_limits; requires restart).
#
# Timeouts ([timeouts])
# - connection_timeout_seconds: Disconnect idle miner connections (requires restart).
#
# Difficulty ([difficulty])
# - min_difficulty / max_difficulty: VarDiff clamp for miner connections; 0 uses defaults/auto (requires restart).
# - lock_suggested_difficulty: If true, the first mining.suggest_difficulty / mining.suggest_target locks that connection to the suggested difficulty (disables VarDiff; requires restart).
#
# Bans ([bans])
# - clean_expired_on_startup: Remove expired bans from disk on startup (startup-only).
# - ban_invalid_submissions_after: Ban a worker after N invalid submissions within the window (0 disables; requires restart).
# - ban_invalid_submissions_window_seconds: Window size (seconds) for invalid submission counting (requires restart).
# - ban_invalid_submissions_duration_seconds: Ban duration (seconds) when threshold is hit (requires restart).
# - reconnect_ban_threshold: Ban a host after N reconnects within the window (0 disables; requires restart).
# - reconnect_ban_window_seconds: Reconnect ban counting window (seconds; requires restart).
# - reconnect_ban_duration_seconds: Reconnect ban duration (seconds; requires restart).
#
# Peer cleaning ([peer_cleaning])
# - enabled: If true, goPool may disconnect high-latency peers while refreshing node status.
# - max_ping_ms: Peers above this ping (ms) are candidates for disconnect.
# - min_peers: Minimum number of peers to keep connected.
#

[bans]
  ban_invalid_submissions_after = 60
  ban_invalid_submissions_duration_seconds = 900
  ban_invalid_submissions_window_seconds = 60
  clean_expired_on_startup = true
  reconnect_ban_duration_seconds = 300
  reconnect_ban_threshold = 0
  reconnect_ban_window_seconds = 60

[difficulty]
  lock_suggested_difficulty = false
  max_difficulty = 65536.0
  min_difficulty = 256.0

[discord]
  worker_notify_threshold_seconds = 300

[hashrate]
  hashrate_ema_min_shares = 5
  hashrate_ema_tau_seconds = 300.0
  ntime_forward_slack_seconds = 7000

[mining]
  disable_pool_job_entropy = false

[peer_cleaning]
  enabled = true
  max_ping_ms = 300.0
  min_peers = 20

[rate_limits]
  accept_burst_window = 5
  accept_reconnect_window = 15
  accept_steady_state_rate = 50
  accept_steady_state_reconnect_percent = 5.0
  accept_steady_state_reconnect_window = 60
  accept_steady_state_window = 100
  auto_accept_rate_limits = true
  max_accept_burst = 1000
  max_accepts_per_second = 500
  max_conns = 50000

[timeouts]
  connection_timeout_seconds = 300

[version]
  ignore_min_version_bits = false
  min_version_bits = 1
