services:
  syncmon-monitor:
    image: rodb2008com/rodb-syncmon-monitor:latest
    container_name: rodb-syncmon-monitor
    restart: unless-stopped
    network_mode: host
    privileged: true
    pid: host
    environment:
      - TTYD_PORT=8180
      - COIN_FILE=${COIN_FILE:-btc.coin.config}
      - BITCOIN_DATA_PATH=${BITCOIN_DATA_PATH:-/home/umbrel/umbrel/app-data/bitcoin}
      - MONITOR_USER=${MONITOR_USER:-syncmon}
      - MONITOR_PASS=${MONITOR_PASS:-syncmon}
    volumes:
      - ${APP_DATA_DIR}/syncmon.sh:/usr/local/bin/syncmon.sh:ro
      - ${APP_DATA_DIR}/${COIN_FILE:-btc.coin.config}:/usr/local/bin/coin.config:ro
      - ${BITCOIN_DATA_PATH:-/home/umbrel/umbrel/app-data/bitcoin}:${BITCOIN_DATA_PATH:-/home/umbrel/umbrel/app-data/bitcoin}:ro
      - /var/run/docker.sock:/var/run/docker.sock
      - /sys:/sys:ro
      - /proc:/host/proc:ro
